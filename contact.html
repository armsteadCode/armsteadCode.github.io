<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Contact</title>
  <LINK href="styles.css" rel="stylesheet" type="text/css">
    <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/6.6.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.6.0/firebase-database.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#config-web-app -->

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyDX_Dvla3uSLigwUqc0FP1qoTqjZbKjC-c",
      authDomain: "armsteadcode.firebaseapp.com",
      databaseURL: "https://armsteadcode.firebaseio.com",
      projectId: "armsteadcode",
      storageBucket: "",
      messagingSenderId: "70974823018",
      appId: "1:70974823018:web:31ac291edd1c5f6ecc8813"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    function success() {
      alert("Success!")
    };

    function saveToFirebase() {

      var fname = document.getElementById('fname').value;
      var lname = document.getElementById('lname').value;
      var email = document.getElementById('email').value;
      var subject = document.getElementById('subject').value;
      var text_body = document.getElementById('text-body').value;

      if (fname || lname || email === "") {
        console.log("Required Fields not set")
      } else {

        var emailForm = {
          Fname: fname,
          Lname: lname,
          Email: email,
          Subject: subject,
          Body: text_body
        };

        firebase.database().ref('email-Form').push().set(emailForm)
          .then(function(snapshot) {
              success(); // some success method
            }, function(error) {
              console.log('error' + error);
              //error(); // some error method
            }
            );
      };
      return false;
    };

  </script>
</head>

<body>
  <div id="headerNav" class="nav head">
    <div id="title">
      <h1 id="header1"><a href="./index.html">armsteadCode</a></h1>
    </div>
    <div id="navBlocks" class="nav head block">
      <div id="about">
        <p>About</p>
      </div>
      <div id="contact">
        <p>Contact</p>
      </div>
      <div id="projects">
        <p>Projects</p>
      </div>
      <div id="testimonials">
        <p>Testimonials</p>
      </div>
    </div>
  </div>

  <div id="body">
    <form id="formEmail" action="https://frozen-spire-99807.herokuapp.com/" method="POST">
      <fieldset>
          (All fields with an <p>*</p> are required.)<br>
        <legend>Full Name:</legend>
          First:<p>*</p><br>
          <input id= "fname" type="text" name="fname" required><br>
          Last:<p>*</p><br>
          <input id="lname" type="text" name="lname" required><br>
      </fieldset>
      <fieldset>
        <legend>Send an Email</legend>
          Email:<p>*</p><br>
          <input id="email" type="email" name="email" required><br>
          Subject:<br>
          <input id="subject" type="text" name="subject" value="Interest in Portfolio"><br>
          Body:<br>
          <textarea id="text" name="text" form="formEmail" rows="20" cols="80">I am interested in your work!</textarea><br>
          <br>
          <input type="submit" value="Submit">
      </fieldset>
    </form>
  </div>

  <div id="footer">
    <div id="lowerNav" class="nav foot">
      <div id="contactColumn">
        <h1>Contact Me</h1>
        <ul>
          <li>Name</li>
          <li>Email: <a href="mailto:armsteadCode@protonmail.com?Subject=From%20Contact%20Info">armsteadCode@protonmail.com</a></li>
          <li>github </li>
          <li>phone?</li>
        </ul>
      </div>
      <div id="structureColumn">
        <h1>Site Structure</h1>
        <ul>
          <li>About</li>
          <li>Contact</li>
          <li>Projects</li>
          <li>Testimonials</li>
        </ul>
      </div>
    </div>
  </div>

</body>

</html>
